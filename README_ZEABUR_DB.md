# Zeabur 数据持久化指南

由于 Zeabur 的容器是无状态的，重新部署会导致本地文件丢失。为了保存爬取的财经新闻数据，你需要配置**持久化存储（Persistent Volume）**。

请按照以下步骤操作：

## 第一步：创建挂载卷 (Volume)

1. 登录 Zeabur 控制台。
2. 进入你的项目（Project）。
3. 点击 **"Volumes"**（存储卷）选项卡。
4. 点击 **"Create Volume"**（创建存储卷）。
5. 给它起个名字，例如 `news-data`。

## 第二步：挂载到服务

1. 回到 **"Services"**（服务）列表，点击你的 Next.js 服务（financialnews）。
2. 进入 **"Settings"**（设置） -> **"Mounts"**（挂载）。
3. 点击 **"Add Mount"**（添加挂载）。
4. 填写以下信息：
   - **Volume**: 选择刚才创建的 `news-data`。
   - **Path**: `/app/data` (这是容器内部的路径)。
5. 点击保存。

## 第三步：设置环境变量

1. 在服务的 **"Variables"**（环境变量）选项卡中。
2. 添加一个新的环境变量：
   - **Key**: `LOKI_FILE_PATH`
   - **Value**: `/app/data/data.loki`
3. 这一步告诉程序将数据库文件保存到刚才挂载的目录中。

## 第四步：重新部署

1. 配置完成后，Zeabur 可能会自动重启服务。如果没有，请手动点击 **"Redeploy"**。
2. 部署成功后，你的新闻数据就会保存在那个存储卷里了，即使以后更新代码或重新部署，数据也不会丢失。
